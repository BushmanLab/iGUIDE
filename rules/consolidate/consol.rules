# -*- mode: Snakemake -*-
# Sequence Consolidating Rules

rule consolidate:
  input:
    RUN_DIR + "/process/trimmed/{sample}.{read}.trim.fastq.gz"
  output:
    consol=RUN_DIR + "/process/consolidated/{sample}.{read}.consol.fasta",
    key=RUN_DIR + "/process/consolidated/{sample}.{read}.key.csv"
  shell:
    """
    TOOL="{ROOT_DIR}/tools/seqConsolidateR/seqConsolidate.R"
    Rscript ${{TOOL}} {input} -o {output.consol} -k {output.key}
    """

