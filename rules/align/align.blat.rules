# -*- mode: Snakemake -*-
# Sequence Alignment: BLAT

rule align:
  input:
    "process/consolidated/{sample}.{read}.consol.fasta"
  output:
    "process/aligned/{sample}.{read}.psl"
  params:
    ROOT_DIR,
    GENOME=config["RefGenome"],
    BLATparams=config["BLATparams"]
  shell:
    """
    blat {params.GENOME} {input} {output} {params.BLATparams}
    """

rule compress_align:
  input:
    "process/aligned/{sample}.{type}.psl"
  output:
    "process/aligned/{sample}.{type}.psl.gz"
  shell:
    "gzip {input}"

