# -*- mode: Snakemake -*-
# Architecture Rules
# Related to setting up analysis directories

rule setup_working_dir:
  input: "configs/" + RUN + ".config.yml"
  output: "analysis/" + RUN
  shell:
    """
    WORK_DIR="{ROOT_DIR}/analysis/{RUN}"
    mkdir ${{WORK_DIR}}
    mkdir ${{WORK_DIR}}/input_data
    mkdir ${{WORK_DIR}}/logs
    mkdir ${{WORK_DIR}}/processData
    mkdir ${{WORK_DIR}}/output
    mkdir ${{WORK_DIR}}/output/uniqSites
    mkdir ${{WORK_DIR}}/output/chimeras
    mkdir ${{WORK_DIR}}/output/multihits
    mkdir ${{WORK_DIR}}/reports

    echo "{RUN} run has been set up."
    echo "Please place input fastq.gz files into the following directory:"
    echo "${{WORK_DIR}}/input_data"
    """

